<div class="card">
    <div class="body">
        <div align="center" class="centered" *ngIf="isDownload">
            <fa-icon [icon]="'sync-alt'" spin style="font-size: 100px;" class="fa fa-spin animated-active"></fa-icon>
        </div>
        <div>
            <h5 id="page-heading"><span>Tds Declaration Upload Details</span>
                <span class="float-right">Financial Year - {{tdsYearMasters.financeYear}}</span>
            </h5>
            <div class="row">
                <div class="col-md-2 text-right"><input type="text" name="empCode" class="form-control form-control-sm" placeholder="Enter Emp Code" [(ngModel)]="tdsDeclarationUploadSearch.cardNo"/></div>
                <div class="col-md-10 text-right">
                    <button type="button" class="btn btn-sm btn-round btn-blush" style="margin-top: 0;" (click)="search();"><fa-icon [icon]="'search'"></fa-icon> <span>Search</span></button>
                    <button type="button" class="btn btn-sm btn-round btn-warning" style="margin-top: 0;" (click)="downloadReport();" [disabled]="tdsDeclarationUploadQries?.length === 0"><fa-icon [icon]="'download'"></fa-icon> <span>Export Profile</span></button>
                    <button type="button" class="btn btn-sm btn-round btn-info" style="margin-top: 0;" (click)="downloadAll();" [disabled]="tdsDeclarationUploadQries?.length === 0"><fa-icon [icon]="'download'"></fa-icon> <span>Download All</span></button>
                </div>
            </div>
            <div class="table-responsive">
                <table class="table table-sm table-striped">
                    <thead>
                        <tr jhiSort [(predicate)]="predicate" [(ascending)]="reverse" [callback]="transition.bind(this)">
                            <th><span>SrNo</span></th>
                            <th><span>Card No</span></th>
                            <th><span>Name</span></th>
                            <th><span>Phone No</span></th>
                            <th><span>Email Id</span></th>
                            <th><span>Factory</span></th>
                            <th><span>Department</span></th>
                            <th><span>Designation</span></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let tdsDeclarationUploadQry of tdsDeclarationUploadQries;trackBy: trackId;let index = index;">
                        <td>{{(totalpage-1)*itemsPerPage+index+1}}</td>
                        <td>{{tdsDeclarationUploadQry.cardNo}}</td>
                        <td>{{tdsDeclarationUploadQry.name}}</td>
                        <td>{{tdsDeclarationUploadQry.contactNumber}}</td>
                        <td>{{tdsDeclarationUploadQry.emailId}}</td>
                        <td>{{tdsDeclarationUploadQry.factory}}</td>
                        <td>{{tdsDeclarationUploadQry.department}}</td>
                        <td>{{tdsDeclarationUploadQry.designation}}</td>
                        <td class="text-right button-column">
                            <div class="btn-group">
                                <fa-icon [icon]="'download'" style="color: #00FF00;cursor: pointer;padding-left: 10px;" (click)="download(tdsDeclarationUploadQry);"></fa-icon>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div [hidden]="tdsDeclarationUploadQries?.length === 0">
                <div class="row justify-content-center">
                    <jhi-item-count [page]="page" [total]="totalItems" [maxSize]="5" [itemsPerPage]="itemsPerPage"></jhi-item-count>
                </div>
                <div class="row justify-content-center">
                    <ngb-pagination [collectionSize]="totalItems" [(page)]="page" [pageSize]="itemsPerPage" [maxSize]="5" [rotate]="true" [boundaryLinks]="true" (pageChange)="loadPage(page)"></ngb-pagination>
                </div>
            </div>
        </div>
    </div>
</div>
